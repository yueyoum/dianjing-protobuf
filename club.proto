package Dianjing.protocol;

import "common.proto";


message Formation {
    required int32 position = 1;
    required string staff_id = 2;
    required int32 unit_id = 3;
    repeated int32 qianban = 4;     // 激活的牵绊ID
}

message FormationNotify {
    required bytes session = 1;
    repeated Formation formation = 2;
}


message Club {
    required string id = 1;
    required string name = 2;
    required string manager = 3;    // 经理人， 玩家名字
    required int32 flag = 4;        // 战旗
    required int32 level = 5;       // 等级
    required int32 renown = 6;      // 声望
    required int32 vip = 7;
    required int32 gold = 8;
    required int32 diamond = 9;

    required int32 policy = 10;                   // 战术ID
    required int32 opened_slots = 11;             // 开启的槽位
    required int32 max_slots = 12;                // 最大槽位
}


message ClubNotify {
    required bytes session = 1;
    required Club club = 2;
}


// 创建俱乐部
message CreateClubRequest {
    required bytes session = 1;
    required string name = 2;
    required int32 flag = 3;
}

message CreateClubResponse {
    required int32 ret = 1;
    required bytes session = 2;
}


// 设置战术
message ClubSetPolicyRequest {
    required bytes session = 1;
    required int32 policy_id = 2;
}

message ClubSetPolicyResponse {
    required int32 ret = 1;
    required bytes session = 2;
}


// 安排参赛队员
message ClubSetMatchStaffRequest {
    required bytes session = 1;
    repeated int32 staff_ids = 2;
}

message ClubSetMatchStaffResponse {
    required int32 ret = 1;
    required bytes session = 2;
}


// 队员格子
message ClubStaffSlotsAmountNotify {
    required bytes session = 1;
    required int32 amount = 2;
    required int32 cost_diamond = 3;
}

message ClubStaffSlotBuyRequest {
    required bytes session = 1;
}

message ClubStaffSlotBuyResponse {
    required int32 ret = 1;
    required bytes session = 2;
}

message ClubSetUnitRequest {
    required bytes session = 1;
    required int32 index = 2;
    required int32 staff_id = 3;
    required int32 unit_id = 4;
}

message ClubSetUnitResponse {
    required int32 ret = 1;
    required bytes session = 2;
}

message ClubSetFormationRequest {
    message StaffPosition {
        required int32 staff_id = 1;
        required int32 position = 2;
    }
    required bytes session = 1;
    repeated StaffPosition position = 2;
}

message ClubSetFormationResponse {
    required int32 ret = 1;
    required bytes session = 2;
}
